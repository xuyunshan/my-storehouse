{"remainingRequest":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/babel-loader/lib/index.js??ref--1-1!/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yunsxu/Desktop/my-storehouse/limatteo-front/src/components/TabContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/src/components/TabContent.vue","mtime":1618390616053},{"path":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/cache-loader/dist/cjs.js","mtime":1613817252946},{"path":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/babel-loader/lib/index.js","mtime":1613817252617},{"path":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/cache-loader/dist/cjs.js","mtime":1613817252946},{"path":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/vue-loader/lib/index.js","mtime":1613817257814}],"contextDependencies":[],"result":["import \"core-js/modules/es.array.filter\";\nimport \"core-js/modules/es.array.includes\";\nimport \"core-js/modules/es.string.includes\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport MFilter from '~/components/mercado/Filter.vue';\nimport JobItem from '~/components/JobItem.vue';\nimport BottomSheet from '~/components/BottomSheet.vue';\nexport default {\n  name: 'TabContent',\n  components: {\n    MFilter: MFilter,\n    JobItem: JobItem,\n    BottomSheet: BottomSheet\n  },\n  props: ['jobList', 'cityList', 'industryList', 'filterJobList'],\n  data: function data() {\n    return {\n      selectedCities: [],\n      selectedIndustries: [],\n      showCityPicker: false,\n      showIndustryPicker: false,\n      filterJob: []\n    };\n  },\n  watch: {\n    showCityPicker: function showCityPicker() {\n      this.$emit('showPicker', this.showCityPicker);\n    },\n    showIndustryPicker: function showIndustryPicker() {\n      this.$emit('showPicker', this.showIndustryPicker);\n    }\n  },\n  methods: {\n    showCityPiceker: function showCityPiceker() {\n      this.showCityPicker = true;\n    },\n    showIndustrySheet: function showIndustrySheet() {\n      this.showIndustryPicker = true;\n    },\n    onCitiesUpdate: function onCitiesUpdate(cityList) {\n      this.showCityPicker = false;\n      this.showTutor = true;\n\n      if (cityList === null) {\n        // only close the sheet\n        return;\n      }\n\n      this.selectedCities = cityList || [];\n\n      this._getFilteredJobs();\n    },\n    onIndustriesUpdate: function onIndustriesUpdate(industryList) {\n      this.showIndustryPicker = false;\n      this.showTutor = true;\n\n      if (industryList === null) {\n        // only close the sheet\n        return;\n      }\n\n      this.selectedIndustries = industryList || [];\n\n      this._getFilteredJobs();\n    },\n    _getFilteredJobs: function _getFilteredJobs() {\n      var _this = this;\n\n      var filteredJobs = [];\n      this.filterJob = this.jobList.filter(function (item) {\n        return _this.selectedCities.length == 0 || _this.selectedCities.includes(item.job_area);\n      }).filter(function (item) {\n        return _this.selectedIndustries.length == 0 || _this.selectedIndustries.includes(item.job_industry);\n      });\n      this.$emit('filterJob', this.filterJob);\n    }\n  }\n};",{"version":3,"sources":["TabContent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,OAAA,OAAA,MAAA,iCAAA;AACA,OAAA,OAAA,MAAA,0BAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,OAAA,EAAA,OAFA;AAGA,IAAA,WAAA,EAAA;AAHA,GAFA;AAOA,EAAA,KAAA,EAAA,CAAA,SAAA,EAAA,UAAA,EAAA,cAAA,EAAA,eAAA,CAPA;AAQA,EAAA,IARA,kBAQA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,EADA;AAEA,MAAA,kBAAA,EAAA,EAFA;AAGA,MAAA,cAAA,EAAA,KAHA;AAIA,MAAA,kBAAA,EAAA,KAJA;AAKA,MAAA,SAAA,EAAA;AALA,KAAA;AAOA,GAhBA;AAiBA,EAAA,KAAA,EAAA;AACA,IAAA,cAAA,EAAA,0BAAA;AACA,WAAA,KAAA,CAAA,YAAA,EAAA,KAAA,cAAA;AACA,KAHA;AAIA,IAAA,kBAAA,EAAA,8BAAA;AACA,WAAA,KAAA,CAAA,YAAA,EAAA,KAAA,kBAAA;AACA;AANA,GAjBA;AAyBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,iBAJA,+BAIA;AACA,WAAA,kBAAA,GAAA,IAAA;AACA,KANA;AAOA,IAAA,cAPA,0BAOA,QAPA,EAOA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,IAAA;;AACA,UAAA,QAAA,KAAA,IAAA,EAAA;AACA;AACA;AACA;;AACA,WAAA,cAAA,GAAA,QAAA,IAAA,EAAA;;AACA,WAAA,gBAAA;AACA,KAhBA;AAiBA,IAAA,kBAjBA,8BAiBA,YAjBA,EAiBA;AACA,WAAA,kBAAA,GAAA,KAAA;AACA,WAAA,SAAA,GAAA,IAAA;;AACA,UAAA,YAAA,KAAA,IAAA,EAAA;AACA;AACA;AACA;;AACA,WAAA,kBAAA,GAAA,YAAA,IAAA,EAAA;;AACA,WAAA,gBAAA;AACA,KA1BA;AA2BA,IAAA,gBA3BA,8BA2BA;AAAA;;AACA,UAAA,YAAA,GAAA,EAAA;AACA,WAAA,SAAA,GAAA,KAAA,OAAA,CACA,MADA,CAEA,UAAA,IAAA;AAAA,eAAA,KAAA,CAAA,cAAA,CAAA,MAAA,IAAA,CAAA,IAAA,KAAA,CAAA,cAAA,CAAA,QAAA,CAAA,IAAA,CAAA,QAAA,CAAA;AAAA,OAFA,EAIA,MAJA,CAKA,UAAA,IAAA;AAAA,eACA,KAAA,CAAA,kBAAA,CAAA,MAAA,IAAA,CAAA,IACA,KAAA,CAAA,kBAAA,CAAA,QAAA,CAAA,IAAA,CAAA,YAAA,CAFA;AAAA,OALA,CAAA;AASA,WAAA,KAAA,CAAA,WAAA,EAAA,KAAA,SAAA;AACA;AAvCA;AAzBA,CAAA","sourcesContent":["<template>\n  <div>\n    <div style=\"display: flex; justify-content: space-around\">\n      <MFilter @click.native=\"showCityPiceker\" :count=\"selectedCities.length\" value=\"city\"\n        >城市</MFilter\n      >\n      <MFilter @click.native=\"showIndustrySheet\" :count=\"selectedIndustries.length\" value=\"industry\"\n        >行业</MFilter\n      >\n    </div>\n    <div class=\"list\">\n      <JobItem\n        v-for=\"job in filterJobList != null ? filterJobList : jobList\"\n        :job=\"job\"\n        :key=\"job.id\"\n      />\n      <div\n        class=\"noList\"\n        style=\"display: flex; justify-content: center; margin-top: 5px\"\n        v-show=\"jobList.length == 0\"\n      >\n        暂无职位\n      </div>\n    </div>\n    <div class=\"bottomSheet\" v-if=\"showCityPicker || showIndustryPicker\">\n      <BottomSheet\n        :show=\"showCityPicker\"\n        :selects=\"cityList\"\n        :defaultSelecteds=\"selectedCities\"\n        @confirmSelects=\"onCitiesUpdate\"\n      />\n      <BottomSheet\n        :show=\"showIndustryPicker\"\n        :selects=\"industryList\"\n        :defaultSelecteds=\"selectedIndustries\"\n        @confirmSelects=\"onIndustriesUpdate\"\n      />\n    </div>\n  </div>\n</template>\n<script>\nimport MFilter from '~/components/mercado/Filter.vue';\nimport JobItem from '~/components/JobItem.vue';\nimport BottomSheet from '~/components/BottomSheet.vue';\nexport default {\n  name: 'TabContent',\n  components: {\n    MFilter,\n    JobItem,\n    BottomSheet,\n  },\n  props: ['jobList', 'cityList', 'industryList', 'filterJobList'],\n  data() {\n    return {\n      selectedCities: [],\n      selectedIndustries: [],\n      showCityPicker: false,\n      showIndustryPicker: false,\n      filterJob: [],\n    };\n  },\n  watch: {\n    showCityPicker: function () {\n      this.$emit('showPicker', this.showCityPicker);\n    },\n    showIndustryPicker: function() {\n      this.$emit('showPicker', this.showIndustryPicker);\n    }\n  },\n  methods: {\n    showCityPiceker() {\n      this.showCityPicker = true;\n    },\n    showIndustrySheet() {\n      this.showIndustryPicker = true;\n    },\n    onCitiesUpdate(cityList) {\n      this.showCityPicker = false;\n      this.showTutor = true;\n      if (cityList === null) {\n        // only close the sheet\n        return;\n      }\n      this.selectedCities = cityList || [];\n      this._getFilteredJobs();\n    },\n    onIndustriesUpdate(industryList) {\n      this.showIndustryPicker = false;\n      this.showTutor = true;\n      if (industryList === null) {\n        // only close the sheet\n        return;\n      }\n      this.selectedIndustries = industryList || [];\n      this._getFilteredJobs();\n    },\n    _getFilteredJobs() {\n      let filteredJobs = [];\n      this.filterJob = this.jobList\n        .filter(\n          (item) => this.selectedCities.length == 0 || this.selectedCities.includes(item.job_area)\n        )\n        .filter(\n          (item) =>\n            this.selectedIndustries.length == 0 ||\n            this.selectedIndustries.includes(item.job_industry)\n        );\n      this.$emit('filterJob', this.filterJob);\n    },\n  },\n};\n</script>\n<style lang=\"scss\" scoped>\n.bottomSheet {\n  width: 100%;\n  height: 100%;\n  position: fixed;\n  left: 0;\n  top: 0;\n  z-index: 200;\n}\n</style>"],"sourceRoot":"src/components"}]}