{"remainingRequest":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/babel-loader/lib/index.js??ref--1-1!/Users/yunsxu/Desktop/my-storehouse/limatteo-front/src/components/buefy/utils/ProviderParentMixin.js","dependencies":[{"path":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/src/components/buefy/utils/ProviderParentMixin.js","mtime":1618390616081},{"path":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/cache-loader/dist/cjs.js","mtime":1613817252946},{"path":"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/babel-loader/lib/index.js","mtime":1613817252617}],"contextDependencies":[],"result":["import \"core-js/modules/es.array.filter\";\nimport \"core-js/modules/es.array.find\";\nimport \"core-js/modules/es.array.is-array\";\nimport \"core-js/modules/es.array.map\";\nimport \"core-js/modules/es.array.slice\";\nimport \"core-js/modules/es.array.sort\";\nimport _createForOfIteratorHelper from \"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";\nimport _defineProperty from \"/Users/yunsxu/Desktop/my-storehouse/limatteo-front/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { hasFlag } from './helpers';\nvar items = 1;\nvar sorted = 3;\nexport var Items = items;\nexport var Sorted = sorted;\nexport default (function (itemName) {\n  var flags = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var mixin = {\n    provide: function provide() {\n      return _defineProperty({}, 'b' + itemName, this);\n    }\n  };\n\n  if (hasFlag(flags, items)) {\n    mixin.data = function () {\n      return {\n        childItems: []\n      };\n    };\n\n    mixin.methods = {\n      _registerItem: function _registerItem(item) {\n        this.childItems.push(item);\n      },\n      _unregisterItem: function _unregisterItem(item) {\n        this.childItems = this.childItems.filter(function (i) {\n          return i !== item;\n        });\n      }\n    };\n\n    if (hasFlag(flags, sorted)) {\n      mixin.watch = {\n        /**\n         * When items are added/removed deep search in the elements default's slot\n         * And mark the items with their index\n         */\n        childItems: function childItems(items) {\n          if (items.length > 0 && this.$scopedSlots[\"default\"]) {\n            var tag = items[0].$vnode.tag;\n            var index = 0;\n\n            var deepSearch = function deepSearch(children) {\n              var _iterator = _createForOfIteratorHelper(children),\n                  _step;\n\n              try {\n                var _loop = function _loop() {\n                  var child = _step.value;\n\n                  if (child.tag === tag) {\n                    // An item with the same tag will for sure be found\n                    var it = items.find(function (i) {\n                      return i.$vnode === child;\n                    });\n\n                    if (it) {\n                      it.index = index++;\n                    }\n                  } else if (child.tag) {\n                    var sub = child.componentInstance ? child.componentInstance.$scopedSlots[\"default\"] ? child.componentInstance.$scopedSlots[\"default\"]() : child.componentInstance.$children : child.children;\n\n                    if (Array.isArray(sub) && sub.length > 0) {\n                      deepSearch(sub.map(function (e) {\n                        return e.$vnode;\n                      }));\n                    }\n                  }\n                };\n\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  _loop();\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n\n              return false;\n            };\n\n            deepSearch(this.$scopedSlots[\"default\"]());\n          }\n        }\n      };\n      mixin.computed = {\n        /**\n         * When items are added/removed sort them according to their position\n         */\n        sortedItems: function sortedItems() {\n          return this.childItems.slice().sort(function (i1, i2) {\n            return i1.index - i2.index;\n          });\n        }\n      };\n    }\n  }\n\n  return mixin;\n});",{"version":3,"sources":["/Users/yunsxu/Desktop/my-storehouse/limatteo-front/src/components/buefy/utils/ProviderParentMixin.js"],"names":["hasFlag","items","sorted","Items","Sorted","itemName","flags","mixin","provide","data","childItems","methods","_registerItem","item","push","_unregisterItem","filter","i","watch","length","$scopedSlots","tag","$vnode","index","deepSearch","children","child","it","find","sub","componentInstance","$children","Array","isArray","map","e","computed","sortedItems","slice","sort","i1","i2"],"mappings":"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","sourcesContent":["import {hasFlag} from './helpers'\n\nconst items = 1\nconst sorted = 3\n\nexport const Items = items\nexport const Sorted = sorted\n\nexport default (itemName, flags = 0) => {\n    const mixin = {\n        provide() {\n            return {\n                ['b' + itemName]: this\n            }\n        }\n    }\n\n    if (hasFlag(flags, items)) {\n        mixin.data = function () {\n            return {\n                childItems: []\n            }\n        }\n        mixin.methods = {\n            _registerItem(item) {\n                this.childItems.push(item)\n            },\n            _unregisterItem(item) {\n                this.childItems = this.childItems.filter((i) => i !== item)\n            }\n        }\n\n        if (hasFlag(flags, sorted)) {\n            mixin.watch = {\n                /**\n                 * When items are added/removed deep search in the elements default's slot\n                 * And mark the items with their index\n                 */\n                childItems(items) {\n                    if (items.length > 0 && this.$scopedSlots.default) {\n                        let tag = items[0].$vnode.tag\n                        let index = 0\n\n                        const deepSearch = (children) => {\n                            for (let child of children) {\n                                if (child.tag === tag) {\n                                    // An item with the same tag will for sure be found\n                                    const it = items.find((i) => i.$vnode === child)\n                                    if (it) {\n                                        it.index = index++\n                                    }\n                                } else if (child.tag) {\n                                    const sub = child.componentInstance\n                                        ? (child.componentInstance.$scopedSlots.default\n                                            ? child.componentInstance.$scopedSlots.default()\n                                            : child.componentInstance.$children)\n                                        : child.children\n                                    if (Array.isArray(sub) && sub.length > 0) {\n                                        deepSearch(sub.map((e) => e.$vnode))\n                                    }\n                                }\n                            }\n                            return false\n                        }\n\n                        deepSearch(this.$scopedSlots.default())\n                    }\n                }\n            }\n            mixin.computed = {\n                /**\n                 * When items are added/removed sort them according to their position\n                 */\n                sortedItems() {\n                    return this.childItems.slice().sort((i1, i2) => {\n                        return i1.index - i2.index\n                    })\n                }\n            }\n        }\n    }\n    return mixin\n}\n"]}]}