{"version":3,"sources":["webpack://@linkedin/camo-frontend/./src/components/goblin/CopyTexts.js","webpack://@linkedin/camo-frontend/./src/components/goblin/Inputs.js","webpack://@linkedin/camo-frontend/./src/pages/live-preview-iframe.js"],"names":["props","copyTexts","className","map","copyText","style","genStyle","COPY_TEXT","key","id","onClick","copyToClipboard","value","inputs","input","type","INPUT","disabled","EVENT_HTTP_PREFIX","Location","useLocation","useState","render","meta","sharing","layouts","hotAreas","imagesToSave","fixedTops","fixedElements","fixedBottoms","textRules","imageRules","swipers","videos","hScrolls","vScrolls","layoutsData","setLayoutsData","useEffect","isInWechatApp","axios","params","reqUrl","global","location","href","wxConfig","console","log","data","wx","config","jsApiList","ready","shareConfig","imgUrl","imageUrl","desc","description","title","link","success","cancel","updateAppMessageShareData","updateTimelineShareData","onMenuShareWeibo","isInWechatMiniprogram","miniProgram","postMessage","shareObj","miniprogramSharing","path","window","addEventListener","updatedLayout","wxSetup","_czc","push","backgroundColor","charSet","name","content","pathname","src","pageKey","rules"],"mappings":"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","file":"component---src-pages-live-preview-iframe-js-acf128f655a85549c540.js","sourcesContent":["import * as React from 'react';\nimport { genStyle } from './utils/common';\nimport { COPY_TEXT } from './utils/constants';\nimport { copyToClipboard } from './utils/common';\nimport '@/style/common.scss';\nconst copyTexts = (props) => {\n  const { copyTexts } = props;\n  return (\n    <div className=\"copyTexts\">\n      {copyTexts.map((copyText) => (\n        <div className=\"HotArea\" style={genStyle(copyText.style, COPY_TEXT)} key={copyText.id}>\n          <div className=\"HotArea__Area\">\n            <button\n              aria-hidden=\"true\"\n              onClick={() => {\n                copyToClipboard(copyText.value);\n              }}\n            ></button>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default copyTexts;\n","import * as React from 'react';\nimport { genStyle } from './utils/common';\nimport { INPUT } from './utils/constants';\nimport '@/style/Input.scss';\n\nconst Inputs = (props) => {\n  const { inputs } = props;\n  return (\n    <div className=\"Inputs\">\n      {inputs.map((input) => (\n        <input\n          type=\"text\"\n          key={input.id}\n          style={genStyle(input.style, INPUT)}\n          value={input.value}\n          disabled\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default Inputs;\n","import { Helmet } from 'react-helmet';\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { isInWechatMiniprogram, isInWechatApp } from '@/util/container';\nimport { useLocation } from '@reach/router';\n\nimport Layouts from '@/components/goblin/Layouts';\nimport HotAreas from '@/components/goblin/HotAreas';\nimport FixedBottoms from '@/components/goblin/FixedBottoms';\nimport FixedElements from '@/components/goblin/FixedElements';\nimport FixedTops from '@/components/goblin/FixedTops';\nimport ImagesToSave from '@/components/goblin/ImagesToSave';\nimport PopTextRules from '@/components/goblin/Rule/PopTextRules';\nimport PopImageRules from '@/components/goblin/Rule/PopImageRules';\nimport Swipers from '@/components/goblin/Swipers';\nimport Videos from '@/components/goblin/Videos';\nimport HorizontalScroll from '@/components/goblin/Scroll/HorizontalScrolls';\nimport VerticalScrolls from '@/components/goblin/Scroll/VerticalScrolls';\nimport Inputs from '@/components/goblin/Inputs';\nimport CopyTexts from '@/components/goblin/CopyTexts';\nimport '@/style/_reset.scss';\n\nconst LivePreviewIframe = () => {\n  const EVENT_HTTP_PREFIX = 'https://www.linkedin-event.com/camo';\n  const Location = useLocation();\n  let [layoutsData, setLayoutsData] = useState({\n    render: {\n      meta: {},\n      sharing: {},\n      layouts: [],\n      hotAreas: [],\n      imagesToSave: [],\n      fixedTops: [],\n      fixedElements: [],\n      fixedBottoms: [],\n      textRules: [],\n      imageRules: [],\n      swipers: [],\n      videos: [],\n      hScrolls: [],\n      vScrolls: [],\n    },\n  });\n  useEffect(() => {\n    //Receive Iframe message\n    window.addEventListener(\n      'message',\n      (updatedLayout) => {\n        setLayoutsData(updatedLayout.data);\n      },\n      false\n    );\n    async function wxSetup() {\n      if (isInWechatApp()) {\n        const wxConfig = await axios.get('//api.linkedin-event.com/get_signature', {\n          params: {\n            reqUrl: global.location.href,\n          },\n        });\n        console.log('== wechat config params ==', wxConfig.data);\n        global.wx.config({\n          // debug: true,\n          ...wxConfig.data,\n          jsApiList: ['updateAppMessageShareData', 'updateTimelineShareData'],\n        });\n\n        global.wx.ready(() => {\n          const shareConfig = {\n            imgUrl: `${layoutsData.render.sharing?.imageUrl}`, //分享卡片的图标，默认当相对路径处理，所以使用绝对路径的的话，“http://”协议前缀必须在。\n            desc: `${layoutsData.render.sharing?.description}`, //摘要,如果分享到朋友圈的话，不显示摘要。\n            title: `${layoutsData.render.sharing?.title}`, // 分享卡片标题\n            link: `${global.location.href}`, // 分享出去后的链接，这里是返回的链接。注意：不能包含 '#' 以及后面的内容！！\n            success: function () {\n              // 分享成功后的回调函数\n            },\n            cancel: function () {\n              // 用户取消分享后执行的回调函数\n            },\n            // 还有其他几种回调函数，详见官网文档\n          };\n          // 分享给朋友及分享到QQ按钮的分享内容\n          global.wx.updateAppMessageShareData(shareConfig);\n          // 分享到朋友圈及分享到QQ空间按钮的分享内容\n          global.wx.updateTimelineShareData(shareConfig);\n          // 分享到腾讯微博的分享内容\n          global.wx.onMenuShareWeibo(shareConfig);\n        });\n      }\n      if (await isInWechatMiniprogram()) {\n        global.wx.miniProgram.postMessage({\n          data: {\n            type: 'wechatSharingConfig',\n            shareObj: {\n              title: `${layoutsData.render.miniprogramSharing?.title}`,\n              desc: `${layoutsData.render.miniprogramSharing?.desc}`,\n              path: `${global.location.href}`,\n              imageUrl: `${layoutsData.render.miniprogramSharing?.imageUrl}`,\n            },\n          },\n        });\n      }\n    }\n    wxSetup();\n    const _czc = global._czc || [];\n    _czc.push(['_setAccount', '1277901282']);\n  }, [layoutsData, Location]);\n\n  return (\n    <div className=\"wrapper\" style={{ backgroundColor: layoutsData.backgroundColor }}>\n      <Helmet>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"og:title\" content={`${layoutsData.render.meta?.title}`} />\n        <meta name=\"og:url\" content={`${EVENT_HTTP_PREFIX}${Location.pathname}`} />\n        <meta name=\"og:image\" content={`${layoutsData.render.meta?.imageUrl}`} />\n        <style type=\"text/css\">{`{display: none;} html {font-size: 10vw; max-width: 750px;} body {margin: 0;} @media screen and (min-width: 750px){html {font-size: 75px}}`}</style>\n        <script type=\"application/ld+json\">{`window.__pageSharingConfig = {title: '${layoutsData.render.sharing?.title}',imageUrl: '${layoutsData.render.sharing?.imageUrl}',description: '${layoutsData.render.sharing?.description}',url: '${EVENT_HTTP_PREFIX}${Location.pathname}',};`}</script>\n        <script src=\"https://res.wx.qq.com/open/js/jweixin-1.6.0.js\" type=\"text/javascript\" />\n        <title>{`${layoutsData.title}`}</title>\n      </Helmet>\n      {/* // TODO: optimize pagekey handling */}\n      {layoutsData?.render?.layouts && (\n        <Layouts layouts={layoutsData.render.layouts} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.hotAreas && (\n        <HotAreas hotAreas={layoutsData.render.hotAreas} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.imagesToSave && (\n        <ImagesToSave\n          imagesToSave={layoutsData.render.imagesToSave}\n          pageKey={layoutsData.pageKey}\n        />\n      )}\n      {layoutsData?.render?.fixedTops && (\n        <FixedTops fixedTops={layoutsData.render.fixedTops} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.fixedElements && (\n        <FixedElements\n          fixedElements={layoutsData.render.fixedElements}\n          pageKey={layoutsData.pageKey}\n        />\n      )}\n      {layoutsData?.render?.fixedBottoms && (\n        <FixedBottoms\n          fixedBottoms={layoutsData.render.fixedBottoms}\n          pageKey={layoutsData.pageKey}\n        />\n      )}\n      {layoutsData?.render?.textRules && (\n        <PopTextRules rules={layoutsData.render.textRules} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.imageRules && (\n        <PopImageRules rules={layoutsData.render.imageRules} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.swipers && (\n        <Swipers swipers={layoutsData.render.swipers} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.videos && (\n        <Videos videos={layoutsData.render.videos} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.hScrolls && (\n        <HorizontalScroll hScrolls={layoutsData.render.hScrolls} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.vScrolls && (\n        <VerticalScrolls vScrolls={layoutsData.render.vScrolls} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.inputs && (\n        <Inputs inputs={layoutsData.render.inputs} pageKey={layoutsData.pageKey} />\n      )}\n      {layoutsData?.render?.copyTexts && (\n        <CopyTexts copyTexts={layoutsData.render.copyTexts} pageKey={layoutsData.pageKey} />\n      )}\n    </div>\n  );\n};\nexport default LivePreviewIframe;\n"],"sourceRoot":""}